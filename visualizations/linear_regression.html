<!doctype html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>Cluster Analysis</title>

    <!-- Boostrap Stylesheet -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">

    <!-- Our own CSS stylesheet -->
    <link rel="stylesheet" href="../static/css/style.css" media="screen">
</head>

<body>
    <!-- Start of navbar -->
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <a class="navbar-brand" href="../index.html">Home</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link" href="../data.html">All Stats</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../select_data.html">Select MLB Teams</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../comparison.html">Compare Stats</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                Machine Learning
                            </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="cluster_analysis.html">Cluster Analysis</a></li>
                            <li><a class="dropdown-item" href="linear_regression.html">Linear Regression</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- End of navbar -->

    <!-- Start of container -->
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="big-blue">
                    Supervised Machine Learning<br>Regression Analysis
                </div>
            </div>
            <p>
                After initial data processing and cleaning, our dataset contained 1384 rows and 31 columns, corresponding to MLB stats from 1970 to 2019, including 36 teams, and the following metrics and variables:
            </p>
            <div class="table-responsive">
                <table class="table table-bordered table-striped">
                    <tr><td>year</td><td>walks</td><td>saves</td></tr>
                    <tr><td>team_name</td><td>strikeouts_by_batters</td><td>outs_pitches</td></tr>
                    <tr><td>games_played</td><td>stolen_bases</td><td>hits_allowed</td></tr>
                    <tr><td>wins</td><td>caught_stealing</td><td>homeruns_allowed</td></tr>
                    <tr><td>losses</td><td>batters_hit_by_pitch</td><td>walks_allowed</td></tr>
                    <tr><td>runs_scored</td><td>sacrifice_flies</td><td>strikeouts_by_pitchers</td></tr>
                    <tr><td>hits</td><td>opponents_runs_scored</td><td>errors</td></tr>
                    <tr><td>doubles</td><td>earned_runs_allowed</td><td>double_plays</td></tr>
                    <tr><td>triples</td><td>complete_games</td><td>fielding_percentage</td></tr>
                    <tr><td>homeruns</td><td>shutouts</td><td>class'</td></tr>
                </table>
            </div>
            <p class="large-pad text-align:left;">
                We wanted to understand how much of the variability in the response variable y (number of “wins”) can be explained by changes in an X number of variables.
                Additionally, we wanted to find whether the number of variables can be reduced without affecting the model score significantly. Our approach was to perform
                a Stepwise Regression Analysis, which is the iterative construction of a model where independent variables are removed in succession and testing for
                statistical significance after each iteration (Kwok, 2021). This process is illustrated in the figure below.
                <br><br>
                <img class="img" src="../Resources/stepwise_regression_process.png" style="width:80%;">
                <br><br>
                After this process, our final model contained 10 independent variables (down from 24). Furthermore, collinearity was tested using the Variance Inflation Factor,
                and one additional variable was dropped. The final list of dependent variables are shown in the table below.
            </p>
            <div class="table-responsive">
                <table class="table table-bordered table-striped">
                    <tr style="text-align: center;"><td>runs_scored</td><td>saves</td></tr>
                    <tr style="text-align: center;"><td>walks</td><td>outs_pitches</td></tr>
                    <tr style="text-align: center;"><td>opponents_runs_scored</td><td>walks_allowed</td></tr>
                    <tr style="text-align: center;"><td>complete_games</td><td>strikeouts_by_pitchers</td></tr>
                    <tr style="text-align: center;"><td>shutouts</td><td>errors</td></tr>
                </table>
            </div>
            <p class="large-pad text-align:left;">
                We also tested the model performance and the results are listed below:
                    <br>- R2 Score: 0.9304714673783749
                    <br>- Training Score: 0.9303466731994289
                    <br>- Testing Score: 0.9297116942632093
                    <br>A pairplot was generated to visually explor how each independent variable correlated with the dependent variable ("wins"). The figure below shows the top row.
            </p>
                <img class="img" src="../Resources/pairplots_select.png" style="width:80%;">
            <p class="large-pad text-align:left; center">
                <a href="https://towardsdatascience.com/stepwise-regression-tutorial-in-python-ebf7c782c922" target="_blank">Kwok, Ryan. 2021. Stepwise Regression Tutorial in Python.</a>
            </p>
                <hr>
                <img class="img" src="../Resources/pairplots.png" style="width:80%;">
            </p>
        </div>
    </div>
    <!-- End of container -->

    <!-- jQuery CDN -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

    <!-- Bootstrap CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD" crossorigin="anonymous"></script>
</body>

<footer>
    <h5>Authors:</h5>
    <a href="https://github.com/cjallow01" class="white">Cherno Jallow</a> &nbsp;
    <a href="https://github.com/JPMCHONE1" class="white">Jason McHone</a> &nbsp;
    <a href="https://github.com/KYbarra4" class="white">Kevin Ybarra</a> &nbsp;
    <a href="https://github.com/OAEspinoza" class="white">Omar Espinoza</a> &nbsp;
    <a href="https://github.com/paulbrichta" class="white">Paul Brichta</a>
</footer>

</html>
